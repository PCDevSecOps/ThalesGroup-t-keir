{"swagger":"2.0","info":{"version":"1.0.0","title":"Converter Service","description":"Convert input document (raw, email, ...) to tkeir compliant representation","termsOfService":"","license":{"name":"","url":""},"contact":{"email":"Eric Blaudez"}},"schemes":["http"],"host":null,"basePath":null,"definitions":{"SentencePosition":{"type":"object","properties":{"start":{"type":"integer","format":"int64","description":"start offset of the sentence"},"length":{"type":"integer","format":"int64","description":"length of the sentence"}}},"KGTripleEntry":{"type":"object","properties":{"content":{"type":"string","description":"Content of triple item"},"lemma_content":{"type":"string","description":"Lemmatized content"},"label":{"type":"string","description":"label of the content"},"pos":{"type":"array","items":{"type":"string","description":"POS tag"},"description":"list of Part Of Speech Tags"},"positions":{"type":"array","items":{"type":"integer","format":"int64","description":"Position in document"},"description":"List of position of tokens in document"},"class_":{"type":"integer","format":"int64","description":"Semantic class, comming from clustering prediction"}},"description":"subject of the item (e.g. John Doe)"},"POSTag":{"type":"object","properties":{"pos":{"type":"string","description":"Part Of Speech"},"lemma":{"type":"string","description":"lemma of token - the form"}}},"NERTag":{"type":"object","properties":{"start":{"type":"integer","format":"int64","description":"start offset of the token of the named entity"},"end":{"type":"integer","format":"int64","description":"end offset of the token of the named entity"},"text":{"type":"string","description":"text of the named entity"},"label":{"type":"string","description":"label of the named entity"}}},"KGItem":{"type":"object","properties":{"subject":{"$ref":"#\/definitions\/KGTripleEntry","description":"subject of the item (e.g. John Doe)"},"property":{"$ref":"#\/definitions\/KGTripleEntry","description":"property of the item (e.g. <instanceof>)"},"value":{"$ref":"#\/definitions\/KGTripleEntry","description":"value of the item (e.g. person)"}}},"EmbeddingItem":{"type":"object","properties":{"field":{"type":"string","description":"Field from which the embedding is computed (can be empty)"},"content":{"type":"string","description":"text of the sentence"},"embeding":{"type":"array","items":{"type":"integer","format":"int64","description":"embedding feature"},"description":"embedding vector"},"position":{"$ref":"#\/definitions\/SentencePosition"}}},"TKeirResult":{"type":"object","properties":{"data_source":{"type":"string","description":"source of the document (could be host file system, web, ..."},"source_doc_id":{"type":"string","description":"uniq id of the document"},"title":{"type":"string","description":"title of document"},"content":{"type":"string","description":"nested array of text representing the content of the document"},"title_tokens":{"type":"array","items":{"type":"string","description":"a token, possibly MWE"},"description":"list of token from title (obtained after tokenizer service)"},"content_tokens":{"type":"array","items":{"type":"string","description":"a token, possibly MWE"},"description":"list of token from content (obtained after tokenizer service)"},"title_morphosyntax":{"type":"array","items":{"$ref":"#\/definitions\/POSTag"},"description":"list of tagged (morpho syntactic) tokens from title (obtained after morphosyntactic tagger - mstagger -  service)"},"content_morphosyntax":{"type":"array","items":{"$ref":"#\/definitions\/POSTag"},"description":"list of tagged (morpho syntactic) tokens from content (obtained after morphosyntactic tagger - mstagger -  service)"},"title_ner":{"type":"array","items":{"$ref":"#\/definitions\/NERTag"},"description":"list of tagged (ner) tokens from title (obtained after ner tagger - nertagger -  service)"},"content_ner":{"type":"array","items":{"$ref":"#\/definitions\/NERTag"},"description":"list of tagged (ner) tokens from content (obtained after ner tagger - nertagger -  service)"},"kg":{"type":"array","items":{"$ref":"#\/definitions\/KGItem"}},"embeddings":{"type":"array","items":{"$ref":"#\/definitions\/EmbeddingItem"}}}},"RunEntryDoc":{"type":"object","properties":{"datatype":{"type":"string","description":"type of data return (available list could be returned by list-type"},"source":{"type":"string","description":"source of the document on host file system"},"data":{"type":"string","description":"base64 encoded document"}}},"TKeirErrorDoc":{"type":"object","properties":{"error":{"type":"string","description":"description of the error"},"exception":{"type":"string","description":"exception raised value"},"trace":{"type":"string","description":"trace in the code of the error"},"info":{"type":"string","description":"service info id"},"config":{"type":"string","description":"service configuration file"},"version":{"type":"string","description":"version of the service"},"date":{"type":"string","description":"release date of the service"}}},"TKeirBadParameterDoc":{"type":"object","properties":{"error":{"type":"string","description":"description of the error"},"info":{"type":"string","description":"service info id"},"config":{"type":"string","description":"service configuration file"},"version":{"type":"string","description":"version of the service"},"date":{"type":"string","description":"release date of the service"}}},"TKeirDoc":{"type":"object","properties":{"result":{"$ref":"#\/definitions\/TKeirResult"},"info":{"type":"string","description":"service info id"},"config":{"type":"string","description":"service configuration file"},"version":{"type":"string","description":"version of the service"},"date":{"type":"string","description":"release date of the service"}}},"ListTypesErrorDoc":{"type":"object","properties":{"error":{"type":"string","description":"error description"},"exception":{"type":"string","description":"exception returned"},"trace":{"type":"string","description":"code trace of the error"},"info":{"type":"string","description":"service uniq id"},"config":{"type":"string","description":"configuration file path"}}},"ListTypesDoc":{"type":"object","properties":{"results":{"type":"string","description":"list of possible input document format"},"info":{"type":"string","description":"service uniq id"},"config":{"type":"string","description":"configuration file path"},"version":{"type":"string","description":"version of the service"},"date":{"type":"string","description":"service development date"}}},"HealthErrorDoc":{"type":"object","properties":{"error":{"type":"string","description":"error description"},"version":{"type":"string","description":"version of the service"},"date":{"type":"string","description":"service development date"}}},"HealthDoc":{"type":"object","properties":{"health":{"type":"string","description":"ok if service is healthy"},"info":{"type":"string","description":"service uniq id"},"config":{"type":"string","description":"configuration file path"},"version":{"type":"string","description":"version of the service"},"date":{"type":"string","description":"service development date"}}}},"tags":[],"paths":{"\/api\/converter\/run":{"options":{"operationId":"run_service","summary":"run the converter","description":"Run the converter according to input. It select the good converter and return tkeir representation","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"required":false,"in":"body","name":"body","schema":{"$ref":"#\/definitions\/RunEntryDoc"}}],"responses":{"500":{"schema":{"$ref":"#\/definitions\/TKeirErrorDoc"},"description":"Internal Error, and exception occured"},"422":{"schema":{"$ref":"#\/definitions\/TKeirBadParameterDoc"},"description":"Something wrong on the request parameters"},"200":{"schema":{"$ref":"#\/definitions\/TKeirDoc"},"description":"return the converted document"}}},"post":{"operationId":"run_service","summary":"run the converter","description":"Run the converter according to input. It select the good converter and return tkeir representation","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"required":false,"in":"body","name":"body","schema":{"$ref":"#\/definitions\/RunEntryDoc"}}],"responses":{"500":{"schema":{"$ref":"#\/definitions\/TKeirErrorDoc"},"description":"Internal Error, and exception occured"},"422":{"schema":{"$ref":"#\/definitions\/TKeirBadParameterDoc"},"description":"Something wrong on the request parameters"},"200":{"schema":{"$ref":"#\/definitions\/TKeirDoc"},"description":"return the converted document"}}}},"\/api\/converter\/list-types":{"options":{"operationId":"list_types","summary":"Get list of managed type","description":"Retrieve th elist of managed type, that must be a parameter of run function","consumes":["application\/json"],"produces":["application\/json"],"parameters":[],"responses":{"500":{"schema":{"$ref":"#\/definitions\/ListTypesErrorDoc"},"description":"Internal Error, and exception occured"},"200":{"schema":{"$ref":"#\/definitions\/ListTypesDoc"},"description":"return the list of available converter formats"}}},"get":{"operationId":"list_types","summary":"Get list of managed type","description":"Retrieve th elist of managed type, that must be a parameter of run function","consumes":["application\/json"],"produces":["application\/json"],"parameters":[],"responses":{"500":{"schema":{"$ref":"#\/definitions\/ListTypesErrorDoc"},"description":"Internal Error, and exception occured"},"200":{"schema":{"$ref":"#\/definitions\/ListTypesDoc"},"description":"return the list of available converter formats"}}}},"\/api\/converter\/health":{"options":{"operationId":"health","summary":"Ask the health of the service","description":"This function allows to know if the service is up and healthy. It is use by client to see if they can use it.","consumes":["application\/json"],"produces":["application\/json"],"parameters":[],"responses":{"500":{"schema":{"$ref":"#\/definitions\/HealthErrorDoc"},"description":"Service is not loaded"},"200":{"schema":{"$ref":"#\/definitions\/HealthDoc"},"description":"Service successfuly loaded"}}},"post":{"operationId":"health","summary":"Ask the health of the service","description":"This function allows to know if the service is up and healthy. It is use by client to see if they can use it.","consumes":["application\/json"],"produces":["application\/json"],"parameters":[],"responses":{"500":{"schema":{"$ref":"#\/definitions\/HealthErrorDoc"},"description":"Service is not loaded"},"200":{"schema":{"$ref":"#\/definitions\/HealthDoc"},"description":"Service successfuly loaded"}}},"get":{"operationId":"health","summary":"Ask the health of the service","description":"This function allows to know if the service is up and healthy. It is use by client to see if they can use it.","consumes":["application\/json"],"produces":["application\/json"],"parameters":[],"responses":{"500":{"schema":{"$ref":"#\/definitions\/HealthErrorDoc"},"description":"Service is not loaded"},"200":{"schema":{"$ref":"#\/definitions\/HealthDoc"},"description":"Service successfuly loaded"}}}}}}