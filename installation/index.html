
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Thales knowledge extraction to information retrieval">
      
      
        <meta name="author" content="Thales">
      
      
        <link rel="canonical" href="https://github.com/ThalesGroup/t-keir/installation/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.0, mkdocs-material-8.5.10">
    
    
      
        <title>Installation - T-KEIR</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.2505c338.min.css">
        
          
          
          <meta name="theme-color" content="#4051b5">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#installation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="T-KEIR" class="md-header__button md-logo" aria-label="T-KEIR" data-md-component="logo">
      
  <img src="../logos/png/T-KEIR_logo_FIN-04.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            T-KEIR
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Installation
            
          </span>
        </div>
      </div>
    </div>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/ThalesGroup/t-keir/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ThalesGroup/t-keir
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href=".." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../overview/" class="md-tabs__link">
      Overview
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../conception/" class="md-tabs__link">
      Conception
    </a>
  </li>

      
        
  
  
    
  


  <li class="md-tabs__item">
    <a href="./" class="md-tabs__link md-tabs__link--active">
      Installation
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../ready_to_run/" class="md-tabs__link">
      Quickstart
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../tools/tools_overview/" class="md-tabs__link">
        Tools
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../security/" class="md-tabs__link">
      Security
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../oam/" class="md-tabs__link">
      Operation and Management
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../about/" class="md-tabs__link">
      About
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="T-KEIR" class="md-nav__button md-logo" aria-label="T-KEIR" data-md-component="logo">
      
  <img src="../logos/png/T-KEIR_logo_FIN-04.png" alt="logo">

    </a>
    T-KEIR
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ThalesGroup/t-keir/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ThalesGroup/t-keir
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../conception/" class="md-nav__link">
        Conception
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Installation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Installation
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation-pre-requist-prepare-t-keir" class="md-nav__link">
    Installation Pre-requist : prepare T-KEIR
  </a>
  
    <nav class="md-nav" aria-label="Installation Pre-requist : prepare T-KEIR">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prepare-environment" class="md-nav__link">
    Prepare environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t-keir-directory-structure" class="md-nav__link">
    T-Keir Directory structure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python-environment" class="md-nav__link">
    Python environment
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation-running" class="md-nav__link">
    Installation running
  </a>
  
    <nav class="md-nav" aria-label="Installation running">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#quick-installation-with-the-installation-script" class="md-nav__link">
    Quick installation with the installation script
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-by-step" class="md-nav__link">
    Step by Step
  </a>
  
    <nav class="md-nav" aria-label="Step by Step">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-from-wheel" class="md-nav__link">
    Install from Wheel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-t-keir-with-a-docker-image" class="md-nav__link">
    Install T-Keir with a docker image
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configure-the-services" class="md-nav__link">
    Configure the services
  </a>
  
    <nav class="md-nav" aria-label="Configure the services">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nomenclature" class="md-nav__link">
    Nomenclature
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command-lines" class="md-nav__link">
    Command lines
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#initializeload-the-models" class="md-nav__link">
    Initialize/Load the models
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#copy-or-create-data" class="md-nav__link">
    Copy or create data
  </a>
  
    <nav class="md-nav" aria-label="Copy or create data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#index-mappings" class="md-nav__link">
    Index mappings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources" class="md-nav__link">
    Resources
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ready_to_run/" class="md-nav__link">
        Quickstart
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Tools
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tools" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Tools
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tools/tools_overview/" class="md-nav__link">
        Tools overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tools/converter/" class="md-nav__link">
        Converter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tools/tokenizer/" class="md-nav__link">
        Tokenizer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tools/mstagger/" class="md-nav__link">
        Morphosyntactic tagger
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tools/nertagger/" class="md-nav__link">
        Named Entities Tagger
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tools/syntactictagger/" class="md-nav__link">
        Syntactic Tagger
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tools/keywords/" class="md-nav__link">
        Keywords Extraction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tools/cluster_inference/" class="md-nav__link">
        Cluster Inference
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tools/embeddings/" class="md-nav__link">
        Embedding processing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tools/relations_clustering/" class="md-nav__link">
        Relation clustering
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tools/qa/" class="md-nav__link">
        Question and Answering
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tools/sentiment/" class="md-nav__link">
        Sentiment Analysis
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tools/zsl_classifier/" class="md-nav__link">
        Classification
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tools/summarizer/" class="md-nav__link">
        Automatic Summarization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tools/indexing/" class="md-nav__link">
        Indexing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tools/search_engine/" class="md-nav__link">
        Search Engine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tools/pipeline/" class="md-nav__link">
        Pipelining tools
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../security/" class="md-nav__link">
        Security
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../oam/" class="md-nav__link">
        Operation and Management
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../about/" class="md-nav__link">
        About
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation-pre-requist-prepare-t-keir" class="md-nav__link">
    Installation Pre-requist : prepare T-KEIR
  </a>
  
    <nav class="md-nav" aria-label="Installation Pre-requist : prepare T-KEIR">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prepare-environment" class="md-nav__link">
    Prepare environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t-keir-directory-structure" class="md-nav__link">
    T-Keir Directory structure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python-environment" class="md-nav__link">
    Python environment
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation-running" class="md-nav__link">
    Installation running
  </a>
  
    <nav class="md-nav" aria-label="Installation running">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#quick-installation-with-the-installation-script" class="md-nav__link">
    Quick installation with the installation script
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-by-step" class="md-nav__link">
    Step by Step
  </a>
  
    <nav class="md-nav" aria-label="Step by Step">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-from-wheel" class="md-nav__link">
    Install from Wheel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-t-keir-with-a-docker-image" class="md-nav__link">
    Install T-Keir with a docker image
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configure-the-services" class="md-nav__link">
    Configure the services
  </a>
  
    <nav class="md-nav" aria-label="Configure the services">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nomenclature" class="md-nav__link">
    Nomenclature
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command-lines" class="md-nav__link">
    Command lines
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#initializeload-the-models" class="md-nav__link">
    Initialize/Load the models
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#copy-or-create-data" class="md-nav__link">
    Copy or create data
  </a>
  
    <nav class="md-nav" aria-label="Copy or create data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#index-mappings" class="md-nav__link">
    Index mappings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources" class="md-nav__link">
    Resources
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/ThalesGroup/t-keir/edit/master/docs/installation.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="installation">Installation</h1>
<p>Tested environments:</p>
<ul>
<li>ubuntu 20.04</li>
<li>Almalinux 8</li>
</ul>
<h2 id="installation-pre-requist-prepare-t-keir">Installation Pre-requist : prepare T-KEIR</h2>
<h3 id="prepare-environment">Prepare environment</h3>
<ul>
<li>install git</li>
</ul>
<div class="highlight"><span class="filename">Example under ubuntu</span><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c1">#&gt; sudo apt install git</span>
</code></pre></div>
<div class="highlight"><span class="filename">Example under almalinux</span><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1">#&gt; sudo dnf install git</span>
</code></pre></div>
<ul>
<li>install pyhton (3.8) and poetry. Follow the instructions : <a href="https://python-poetry.org/docs">Poetry installation documentation</a></li>
</ul>
<p>When <strong>python</strong> and <strong>pip</strong> package manager are installed you can simply run: </p>
<div class="highlight"><span class="filename">Example under ubuntu</span><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1">#&gt; sudo apt install python3 python3-pip</span>
</code></pre></div>
<div class="highlight"><span class="filename">Example under almalinux</span><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1">#&gt; sudo dnf install python3</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="c1">#&gt; sudo dnf install python3-pip</span>
</code></pre></div>
<div class="highlight"><span class="filename">Example install poetry</span><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1">#&gt; pip3 install poetry</span>
</code></pre></div>
<ul>
<li>clone repository</li>
</ul>
<div class="highlight"><span class="filename">Example of repository clonning into 't-keir-oss' directory</span><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1">#&gt; git clone https://github.com/ThalesGroup/t-keir.git t-keir-oss</span>
</code></pre></div>
<h3 id="t-keir-directory-structure">T-Keir Directory structure</h3>
<ul>
<li><strong>app/bin</strong>           : scripts and tools for server execution</li>
<li><strong>app/projects</strong>      : projects templates (use by T-Keir to create user configuration file - do not edit or modify)</li>
<li><strong>docs</strong>              : buildable documentation</li>
<li><strong>runtimes/docker</strong>   : docker environment</li>
<li><strong>tests</strong>             : internal unit tests</li>
<li><strong>thot</strong>              : tkeir source code</li>
</ul>
<h3 id="python-environment">Python environment</h3>
<p>T-KEIR is a python software, <strong>python &gt;=3.8</strong> and <strong>poetry</strong> are necessary for an installation from gitlab/github.
Otherwise and from Thales environnement only, you can install by using pip command. The last way is to use docker</p>
<p><img alt="Screenshot" src="../resources/images/doc-tkeir-install-strategies.png" /></p>
<p>Optionnaly, to run the documentation server go in directory <strong>tkeir</strong> and run mkdocs server :</p>
<div class="highlight"><span class="filename">Example of mkdocs installation under ubuntu</span><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1">#&gt; sudo apt install mkdocs</span>
</code></pre></div>
<div class="highlight"><span class="filename">Run the documentation server with mkdocs</span><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>mkdocs serve
</code></pre></div>
<h2 id="installation-running">Installation running</h2>
<p>T-Keir provides a script to install all in one time (section <a href="#Quick-installation-with-script">Quick installation with script</a>).
Alternatively, you can follow step by the installation (section <a href="#Step-by-step">Step by step</a>).</p>
<h3 id="quick-installation-with-the-installation-script">Quick installation with the installation script</h3>
<p>The 'quick installation script' is in the root of T-Keir directory. As pre-requisite you have to make sure <strong>wget</strong> is installed. </p>
<p>After git repository cloning.
<div class="highlight"><span class="filename">Install T-Keir</span><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c1">#&gt; ./install.sh $HOME/mytkeir</span>
</code></pre></div></p>
<p>The script will install T-Keir in repository '$HOME/mytkeir' in a dedicated python environment ('$HOME/mytkeir/tkeirenv').
Notice that this installation will also install Opensearch 2.9.0 as a third party tool.</p>
<h3 id="step-by-step">Step by Step</h3>
<p>After git repository cloning.
<div class="highlight"><span class="filename">Build a python wheel package:</span><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="c1">#&gt; poetry build</span>
</code></pre></div></p>
<p>A wheel file will be created in "<strong>dist</strong>" directory. Then you can simply run a pip install on the created wheel.
Note that is highly recommanded to run wheel installation in a python virtual environment.</p>
<h4 id="install-from-wheel">Install from Wheel</h4>
<p>You can directly install T-Keir from weel:</p>
<p>Go in "dist" folder (created by poetry - under <strong>t-keir-oss</strong> directory created by github cloning)</p>
<div class="highlight"><span class="filename">Create a python virtual environement:</span><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="c1">#&gt;  python3 -m venv $HOME/tkeirenv`</span>
</code></pre></div>
<div class="highlight"><span class="filename">Activate you environement:</span><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1">#&gt; source $HOME/tkeirenv/bin/activate</span>
</code></pre></div>
<div class="highlight"><span class="filename">Install the Wheel:</span><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="c1">#&gt; pip install &lt;FILE_NAME&gt;.whl</span>
</code></pre></div>
<p><strong>Troubleshooting</strong> : if there is a problem with <strong>pycurl</strong> install libcurl4-openssl-dev and libssl</p>
<div class="highlight"><span class="filename">E.G under debian/ubuntu:</span><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c1">#&gt; sudo apt install libcurl4-openssl-dev libssl-dev</span>
</code></pre></div>
<h4 id="install-t-keir-with-a-docker-image">Install T-Keir with a docker image</h4>
<p>You could build the docker base image. This image contains os and python dependencies and code of search ai with one entry point
by service. The wheel package will be created, so you should ensure poetry is installed and in running path.</p>
<p>Go in <strong>tkeir/runtimes/docker</strong> directory and run the following command:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="c1">#&gt; ./builddocker.sh</span>
</code></pre></div>
<h2 id="configure-the-services">Configure the services</h2>
<p>T-Keir provides a script to automatically generate configuration file:</p>
<h3 id="nomenclature">Nomenclature</h3>
<ul>
<li>PATH_TO_TKEIR : to the the name of directory containing t-keir (the clone of github, in this installation guide it is <strong>t-keir-oss</strong>)</li>
<li>PATH_TO_YOUR_OUTPUR_CONFIG_DIR : this is your workspace space (where you configuration files are created and stores, where there are your model)</li>
<li>PATH_TO_YOUR_SHARE_DIRECTORY_OR_VOLUME_NAME : share directory need by docker to communication with host</li>
</ul>
<h3 id="command-lines">Command lines</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>python3 tkeir/thot/tkeir_init_project.py -t &lt;PATH TO TKEIR&gt;/tkeir/app/projects/template/ -o &lt;PATH TO YOUR OUTPUT CONFIG DIR&gt;
</code></pre></div>
<p>or if you install T-Keir wheel:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>tkeir-init-project -t &lt;PATH TO TKEIR&gt;/tkeir/app/projects/template/ -o &lt;PATH TO YOUR OUTPUT CONFIG DIR&gt;
</code></pre></div>
<p>When you work with a docker you can use a share directory or a volume (to make configurer persistent).</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>docker run --rm -it -v &lt;PATH TO YOUR SHARE DIRECTORY OR VOLUME NAME&gt;:/home/tkeir_svc/share -w /home/tkeir_svc/tkeir --entrypoint python3 theresis/tkeir /home/tkeir_svc/tkeir/thot/tkeir_init_project.py -t /home/tkeir_svc/tkeir/app/projects/template -o /home/tkeir_svc/share
</code></pre></div>
<h3 id="initializeload-the-models">Initialize/Load the models</h3>
<p>When you build you docker volumes containing model and default configuration are automatically generated.
To update the configuration you can go into directory <strong>app/bin</strong> and run the command:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>./init-models.sh &lt;PATH TO YOUR OUTPUT CONFIG DIR&gt;/project/configs  &lt;PATH TO YOUR OUTPUT CONFIG DIR&gt;/project/models
</code></pre></div>
<p>Or from docker</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>docker run --rm -it -v <span class="nv">$host_dir</span>:<span class="nv">$docker_dir</span> -w /home/tkeir_svc/tkeir --entrypoint bash <span class="nv">$tkeir_img</span> /home/tkeir_svc/tkeir/app/bin/init-models.sh <span class="nv">$docker_dir</span>/project/configs <span class="nv">$docker_dir</span>/project/resources/modeling/net/
</code></pre></div>
<p>Where </p>
<ul>
<li><strong>host_dir</strong> is the variable containing the path to the shared host directory</li>
<li><strong>docker_dir</strong> is the variable containing the path to the shared docker directory</li>
<li><strong>tkei_img</strong> is the name of the image</li>
</ul>
<p>Note, that the environment variable TRANSFORMERS_CACHE <strong>HAVE TO BE</strong> always set to model path before run a T-Keir service using models.</p>
<p>Take care of proxies. Please set correclty $HOME/.docker/config.json like that:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="w">  </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="w">    </span><span class="nt">&quot;proxies&quot;</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="w">    </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="w">      </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="w">      </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="w">        </span><span class="nt">&quot;httpProxy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;your_http_proxy&quot;</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="w">        </span><span class="nt">&quot;httpsProxy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;your_https_proxy&quot;</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="w">        </span><span class="nt">&quot;noProxy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;your_no_proxy&quot;</span><span class="w"></span>
<a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a><span class="w">      </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a><span class="w">  </span><span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>For a docker compose network environment, don't forget to add <strong>tkeir opendistro</strong> hostname and all services in no_proxy.</p>
<h2 id="copy-or-create-data">Copy or create data</h2>
<p>T-Keir comes with default configuration file.
Nevertheless you can modify or add file. Most of them are configuration (see configuration section).</p>
<h3 id="index-mappings">Index mappings</h3>
<p>Index mapping is store in <strong>RESOURCES_DIRECTORY/indices/indices_mapping</strong>. if you create new mapping it MUST contains the same fields.
You can freely change the analyzers.</p>
<h3 id="resources">Resources</h3>
<p>The resources are stored in <strong>RESOURCES_DIRECTORY/modeling/tokenizer/[en|fr...]</strong>. This directory contains file with list or csv tables.
The descriptions of these file are in <strong>CONFIGS/annotation-resources.json</strong></p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../conception/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Conception" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Conception
            </div>
          </div>
        </a>
      
      
        
        <a href="../ready_to_run/" class="md-footer__link md-footer__link--next" aria-label="Next: Quickstart" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Quickstart
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 THALES<br>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://github.com/ThalesGroup" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs"], "search": "../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>